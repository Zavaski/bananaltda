<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
</h:head>

<h:body>
    <p:megaMenu orientation="#{megaMenuView.orientation}" style="margin-top:20px">
        <p:submenu label="Local" icon="pi pi-check">
            <p:column>
                <p:submenu label="Gerenciamento de Locais">
                    <p:menuitem value="Cadastrar Local" url="#" />
                    <p:menuitem value="Listar Locais" url="#" />
                </p:submenu>

            </p:column>
        </p:submenu>

        <p:submenu label="Sala" icon="pi pi-file">

            <p:column>
                <p:submenu label="Gerenciamento de Salas">
                    <p:menuitem value="Cadastrar Sala" url="#" />
                    <p:menuitem value="Listar Salas" url="#" />
                </p:submenu>
            </p:column>
        </p:submenu>

        <p:submenu label="Usuarios" icon="pi pi-pencil">
            <p:column>
                <p:submenu label="Gerenciamento de Usuario">
                    <p:menuitem value="Listar Usuarios" url="#" />
                </p:submenu>
            </p:column>

            <p:column>
                <p:submenu label="Reserva de salas">
                    <p:menuitem value="nova Reserva" url="#" />
                    <p:menuitem value="Listar reservas" url="#" />
                </p:submenu>
            </p:column>
        </p:submenu>
    </p:megaMenu>
    <h:form id="localForm">
        <p:commandButton action="createLocal.xhtml?faces-redirect=true" value="Novo" />

        <p:dataTable id="local" var="local" value="#{localBean.listarLocais()}" rows="10"
                     paginator="true"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     rowsPerPageTemplate="5,10,15">
            <f:facet name="header">
                Locais
            </f:facet>
            <p:column headerText="ID">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{local.ID}"  />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{local.ID}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Nome">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{local.nome}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{local.nome}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="CNPJ">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{local.CNPJ}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{local.CNPJ}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="EndereÃ§o">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{local.endereco}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{local.endereco}" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Deletar">

                <p:commandButton value="Deletar" action="#{localBean.deletarLocal(local.ID)}" update="@form">
                </p:commandButton>
            </p:column>
            <p:column headerText="Editar">

                <p:commandButton value="Editar" action="#{localBean.editarLocal(local.ID)}">
                </p:commandButton>
            </p:column>
        </p:dataTable>
    </h:form>
</h:body>
</html>